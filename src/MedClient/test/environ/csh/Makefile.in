# Copyright (C) 2005  OPEN CASCADE, CEA, EDF R&D, LEG
#           PRINCIPIA R&D, EADS CCR, Lip6, BV, CEDRAT
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either 
# version 2.1 of the License.
# 
# This library is distributed in the hope that it will be useful 
# but WITHOUT ANY WARRANTY; without even the implied warranty of 
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU 
# Lesser General Public License for more details.
# 
# You should have received a copy of the GNU Lesser General Public  
# License along with this library; if not, write to the Free Software 
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
# 
# See http://www.salome-platform.org/ or email : webmaster.salome@opencascade.com
# 

top_srcdir=@top_srcdir@
top_builddir=../../..
srcdir=@srcdir@
VPATH=.:@srcdir@

BIN=	init1  init2  init3  init4  init5  runContainer stopContainer

TYPESHELL=csh
INSTALLDIR=@prefix@/Tests/environ/${TYPESHELL}

all:
	$(MAKE) inc
	$(MAKE) depend_idl
	$(MAKE) depend
	$(MAKE) lib
	$(MAKE) bin
	$(MAKE) resources
	chmod u+x ${BIN}

depend depend_idl clean_dep lib idl resources:

inc: ${BIN} Makefile

bin:
	chmod u+x ${BIN}

install:
	mkdir -p ${INSTALLDIR}
	cp -rf ${BIN} ${INSTALLDIR} 
	cd ${INSTALLDIR} ; chmod u+x ${BIN}

%: @srcdir@/%.in
	@echo $^ "->" $@
	cd $(top_builddir) ; \
	./config.status ${patsubst @top_srcdir@/%, ./%, @srcdir@/$@}

%: @srcdir@/%
	@echo $^ "->" $@
	cp -f $^ $@

$(top_builddir)/config.status: $(top_srcdir)/configure
	cd $(top_builddir) ; ./config.status --recheck
